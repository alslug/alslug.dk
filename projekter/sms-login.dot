digraph xxx {
  {
    rank = same;
    wait_for_confirmation; check_for_remote_accept;
/////////////////////////////////////////////////////////////////////////////////////
              wait_for_confirmation ->                                          /////
                    check_for_remote_accept [ dir=both ];                       /////
/////////////////////////////////////////////////////////////////////////////////////
  }
  current_page [ style=filled fillcolor=green ];
  current_page ->
        enter_phone_number ->
              wait_for_confirmation ->
                    current_page;
/////////////////////////////////////////////////////////////////////////////////////
        enter_phone_number ->                                                   /////
              sms_sendt [ style= dotted ];                                      /////
/////////////////////////////////////////////////////////////////////////////////////
  sms_sendt ->
        accept_login [ style=dotted ];
        accept_login ->
              login_accepted->
                    same_session;
                    same_session -> {ja,nej};
                          ja ->
                                current_page;
                          nej ->
                                gem_confirmed;
/////////////////////////////////////////////////////////////////////////////////////
                                gem_confirmed ->                                /////
                                      wait_for_confirmation [ style=dotted ];   /////
/////////////////////////////////////////////////////////////////////////////////////
}
