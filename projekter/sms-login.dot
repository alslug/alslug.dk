digraph xxx {
  {1,2,3,4,5,6,7,8,9,0} -> current_page;
  {
    edge [ color=red style=dotted ];
////////////////////////////////////////////////////////////////////////////////////////////
    enter_phone_number -> memcached [ label="Data gemt i \nmemcachd"]; /////
                          memcached [ color = red ];
                          memcached -> check_for_remote_accept;
                          memcached -> same_session:ja [ label = "Slet data i \nmemcached" dir=both ];
                          memcached -> same_session:nej [ label = "Opdater data i \nmemcached" dir=both ];
////////////////////////////////////////////////////////////////////////////////////////////
  }
  {
    edge [ color=blue style=dotted ];
////////////////////////////////////////////////////////////////////////////////////////////
        enter_phone_number -> session [ label="Data gemt i \nsession"];    /////
                              session [ color = blue ];
                              session -> wait_for_confirmation;
                              session -> same_session;
////////////////////////////////////////////////////////////////////////////////////////////
  }
  subgraph cluster_browser {
    label = "Browser";
    current_page [ style=filled fillcolor=green ];
    current_page ->
          enter_phone_number ->
                wait_for_confirmation ->
                      current_page;
                wait_for_confirmation ->
                      check_for_remote_accept [ dir=both ];
  }
  subgraph cluster_telefon {
    label = "Telefon";
    same_session [ shape=record label="{samesession ?|{<ja> ja\nredirect| &nbsp; |<nej> nej\n\ngem\nconfrmed}}" ];
    sms_sendt ->
          accept_login [ style=dotted label="Klik pÃ¥ link i SMS" ];
          accept_login ->
                login_accepted->
                      same_session;
                      same_session:ja -> current_page;
                      same_session:nej -> wait_for_confirmation [ style=dotted ];
  }
  
  enter_phone_number -> sms_sendt [ style= dotted label="SMS med link"];
}
